<div
  class="relative p-6 border border-gray-200 rounded-lg bg-gray-50 flex flex-col items-center justify-center gap-4"
  tuiHint="Este es tu puntaje de compatibilidad (ATS) estimado con la descripción del puesto."
>
  <h3 class="text-lg font-medium text-gray-700">Puntaje ATS</h3>

  <tui-loader [showLoader]="isLoading()" size="m" class="h-32 w-32">

    <div class="relative w-32 h-32 flex items-center justify-center">
      <tui-progress-circle
        [color]="scoreColor()"
        [value]="score() ?? 0"
        [max]="100"
        size="l"
      >
      </tui-progress-circle>

      <div class="absolute flex flex-col items-center justify-center">
        <span class="text-3xl font-bold" [style.color]="scoreColor()">
          {{ scoreText() }}
          @if (score() !== null) {
            <span class="text-xl">%</span>
          }
        </span>
      </div>
    </div>
  </tui-loader>

  @if (!isLoading()) {
    <p class="text-sm text-gray-600 text-center h-5">
      @if (score() === null) {
        Optimiza tu CV para ver el puntaje.
      } @else if (score()! < 50) {
        Necesita mejoras.
      } @else if (score()! < 80) {
        Buen puntaje.
      } @else {
        ¡Excelente compatibilidad!
      }
    </p>
  }
</div>
