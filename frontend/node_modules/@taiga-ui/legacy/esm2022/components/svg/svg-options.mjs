import { InjectionToken, Optional, SkipSelf, } from '@angular/core';
import { tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';
import { tuiIconsPathFactory } from '@taiga-ui/legacy/utils';
import { identity } from 'rxjs';
import { tuiSvgLinearGradientProcessor } from './content-processor';
import { TUI_DEPRECATED_ICONS } from './deprecated-icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_DEFAULT_ICONS_PLACE = 'assets/taiga-ui/icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_DEFAULT_OPTIONS = {
    iconsPlace: TUI_DEFAULT_ICONS_PLACE,
    path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
    srcProcessor: identity,
    contentProcessor: tuiSvgLinearGradientProcessor,
    deprecated: (src) => {
        const oldIcon = src.replace('Large', '').replace('Outline', '');
        const newIcon = TUI_DEPRECATED_ICONS[oldIcon];
        return newIcon
            ? `${oldIcon}/(Large|Outline) is deprecated, use ${newIcon}/(Large|Outline) instead`
            : '';
    },
};
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_OPTIONS = new InjectionToken(ngDevMode ? 'TUI_SVG_OPTIONS' : '', {
    factory: () => ({
        iconsPlace: TUI_DEFAULT_ICONS_PLACE,
        path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
        deprecated: TUI_SVG_DEFAULT_OPTIONS.deprecated,
        srcProcessor: identity,
        contentProcessor: tuiSvgLinearGradientProcessor,
    }),
});
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_SRC_INTERCEPTORS = new InjectionToken(ngDevMode ? 'TUI_SVG_SRC_INTERCEPTORS' : '');
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export function tuiSvgSrcInterceptors(interceptor) {
    return {
        provide: TUI_SVG_SRC_INTERCEPTORS,
        useValue: interceptor,
        multi: true,
    };
}
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const tuiSvgOptionsProvider = (options) => ({
    provide: TUI_SVG_OPTIONS,
    deps: [[new SkipSelf(), new Optional(), TUI_SVG_OPTIONS]],
    useFactory: (fallback) => ({
        iconsPlace: options.iconsPlace ??
            fallback?.iconsPlace ??
            TUI_SVG_DEFAULT_OPTIONS.iconsPlace,
        path: tuiIsString(options.path)
            ? tuiIconsPathFactory(options.path)
            : (options.path ?? fallback?.path ?? TUI_SVG_DEFAULT_OPTIONS.path),
        deprecated: options.deprecated ??
            fallback?.deprecated ??
            TUI_SVG_DEFAULT_OPTIONS.deprecated,
        srcProcessor: options.srcProcessor ??
            fallback?.srcProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.srcProcessor,
        contentProcessor: options.contentProcessor ??
            fallback?.contentProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.contentProcessor,
    }),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ZnLW9wdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9sZWdhY3kvY29tcG9uZW50cy9zdmcvc3ZnLW9wdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVILGNBQWMsRUFDZCxRQUFRLEVBRVIsUUFBUSxHQUNYLE1BQU0sZUFBZSxDQUFDO0FBTXZCLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxtQ0FBbUMsQ0FBQztBQUM5RCxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUMzRCxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBRTlCLE9BQU8sRUFBQyw2QkFBNkIsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQ2xFLE9BQU8sRUFBQyxvQkFBb0IsRUFBQyxNQUFNLG9CQUFvQixDQUFDO0FBRXhEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLHVCQUF1QixDQUFDO0FBc0IvRDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBa0I7SUFDbEQsVUFBVSxFQUFFLHVCQUF1QjtJQUNuQyxJQUFJLEVBQUUsbUJBQW1CLENBQUMsdUJBQXVCLENBQUM7SUFDbEQsWUFBWSxFQUFFLFFBQVE7SUFDdEIsZ0JBQWdCLEVBQUUsNkJBQTZCO0lBQy9DLFVBQVUsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2hCLE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEUsTUFBTSxPQUFPLEdBQUcsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFOUMsT0FBTyxPQUFPO1lBQ1YsQ0FBQyxDQUFDLEdBQUcsT0FBTyx1Q0FBdUMsT0FBTywwQkFBMEI7WUFDcEYsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNiLENBQUM7Q0FDSixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLElBQUksY0FBYyxDQUM3QyxTQUFTLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQ2xDO0lBQ0ksT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDWixVQUFVLEVBQUUsdUJBQXVCO1FBQ25DLElBQUksRUFBRSxtQkFBbUIsQ0FBQyx1QkFBdUIsQ0FBQztRQUNsRCxVQUFVLEVBQUUsdUJBQXVCLENBQUMsVUFBVTtRQUM5QyxZQUFZLEVBQUUsUUFBUTtRQUN0QixnQkFBZ0IsRUFBRSw2QkFBNkI7S0FDbEQsQ0FBQztDQUNMLENBQ0osQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLElBQUksY0FBYyxDQUN0RCxTQUFTLENBQUMsQ0FBQyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQzlDLENBQUM7QUFFRjs7O0dBR0c7QUFDSCxNQUFNLFVBQVUscUJBQXFCLENBQUMsV0FBcUM7SUFDdkUsT0FBTztRQUNILE9BQU8sRUFBRSx3QkFBd0I7UUFDakMsUUFBUSxFQUFFLFdBQVc7UUFDckIsS0FBSyxFQUFFLElBQUk7S0FDZCxDQUFDO0FBQ04sQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUlYLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDLE9BQU8sRUFBRSxlQUFlO0lBQ3hCLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxRQUFRLEVBQUUsRUFBRSxJQUFJLFFBQVEsRUFBRSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQ3pELFVBQVUsRUFBRSxDQUFDLFFBQThCLEVBQWlCLEVBQUUsQ0FBQyxDQUFDO1FBQzVELFVBQVUsRUFDTixPQUFPLENBQUMsVUFBVTtZQUNsQixRQUFRLEVBQUUsVUFBVTtZQUNwQix1QkFBdUIsQ0FBQyxVQUFVO1FBQ3RDLElBQUksRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUMzQixDQUFDLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNuQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLFFBQVEsRUFBRSxJQUFJLElBQUksdUJBQXVCLENBQUMsSUFBSSxDQUFDO1FBQ3RFLFVBQVUsRUFDTixPQUFPLENBQUMsVUFBVTtZQUNsQixRQUFRLEVBQUUsVUFBVTtZQUNwQix1QkFBdUIsQ0FBQyxVQUFVO1FBQ3RDLFlBQVksRUFDUixPQUFPLENBQUMsWUFBWTtZQUNwQixRQUFRLEVBQUUsWUFBWTtZQUN0Qix1QkFBdUIsQ0FBQyxZQUFZO1FBQ3hDLGdCQUFnQixFQUNaLE9BQU8sQ0FBQyxnQkFBZ0I7WUFDeEIsUUFBUSxFQUFFLGdCQUFnQjtZQUMxQix1QkFBdUIsQ0FBQyxnQkFBZ0I7S0FDL0MsQ0FBQztDQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgdHlwZSBGYWN0b3J5UHJvdmlkZXIsXG4gICAgSW5qZWN0aW9uVG9rZW4sXG4gICAgT3B0aW9uYWwsXG4gICAgdHlwZSBQcm92aWRlcixcbiAgICBTa2lwU2VsZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIHR5cGUgVHVpSGFuZGxlcixcbiAgICB0eXBlIFR1aVNhZmVIdG1sLFxuICAgIHR5cGUgVHVpU3RyaW5nSGFuZGxlcixcbn0gZnJvbSAnQHRhaWdhLXVpL2Nkay90eXBlcyc7XG5pbXBvcnQge3R1aUlzU3RyaW5nfSBmcm9tICdAdGFpZ2EtdWkvY2RrL3V0aWxzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHt0dWlJY29uc1BhdGhGYWN0b3J5fSBmcm9tICdAdGFpZ2EtdWkvbGVnYWN5L3V0aWxzJztcbmltcG9ydCB7aWRlbnRpdHl9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge3R1aVN2Z0xpbmVhckdyYWRpZW50UHJvY2Vzc29yfSBmcm9tICcuL2NvbnRlbnQtcHJvY2Vzc29yJztcbmltcG9ydCB7VFVJX0RFUFJFQ0FURURfSUNPTlN9IGZyb20gJy4vZGVwcmVjYXRlZC1pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFID0gJ2Fzc2V0cy90YWlnYS11aS9pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUdWlTdmdPcHRpb25zIHtcbiAgICByZWFkb25seSBjb250ZW50UHJvY2Vzc29yOiBUdWlIYW5kbGVyPFR1aVNhZmVIdG1sLCBUdWlTYWZlSHRtbD47XG4gICAgcmVhZG9ubHkgZGVwcmVjYXRlZDogVHVpU3RyaW5nSGFuZGxlcjxzdHJpbmc+O1xuICAgIHJlYWRvbmx5IGljb25zUGxhY2U6IHN0cmluZztcbiAgICByZWFkb25seSBwYXRoOiAobmFtZTogc3RyaW5nLCBiYXNlSHJlZj86IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIHJlYWRvbmx5IHNyY1Byb2Nlc3NvcjogVHVpSGFuZGxlcjxUdWlTYWZlSHRtbCwgVHVpU2FmZUh0bWw+O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCB0eXBlIFR1aVN2Z0ludGVyY2VwdG9ySGFuZGxlciA9XG4gICAgfCAoKHNyYzogVHVpU2FmZUh0bWwsIG9wdGlvbnM6IFR1aVN2Z09wdGlvbnMpID0+IFR1aVNhZmVIdG1sKVxuICAgIHwgKChzcmM6IFR1aVNhZmVIdG1sKSA9PiBUdWlTYWZlSHRtbCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9TVkdfREVGQVVMVF9PUFRJT05TOiBUdWlTdmdPcHRpb25zID0ge1xuICAgIGljb25zUGxhY2U6IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFLFxuICAgIHBhdGg6IHR1aUljb25zUGF0aEZhY3RvcnkoVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UpLFxuICAgIHNyY1Byb2Nlc3NvcjogaWRlbnRpdHksXG4gICAgY29udGVudFByb2Nlc3NvcjogdHVpU3ZnTGluZWFyR3JhZGllbnRQcm9jZXNzb3IsXG4gICAgZGVwcmVjYXRlZDogKHNyYykgPT4ge1xuICAgICAgICBjb25zdCBvbGRJY29uID0gc3JjLnJlcGxhY2UoJ0xhcmdlJywgJycpLnJlcGxhY2UoJ091dGxpbmUnLCAnJyk7XG4gICAgICAgIGNvbnN0IG5ld0ljb24gPSBUVUlfREVQUkVDQVRFRF9JQ09OU1tvbGRJY29uXTtcblxuICAgICAgICByZXR1cm4gbmV3SWNvblxuICAgICAgICAgICAgPyBgJHtvbGRJY29ufS8oTGFyZ2V8T3V0bGluZSkgaXMgZGVwcmVjYXRlZCwgdXNlICR7bmV3SWNvbn0vKExhcmdlfE91dGxpbmUpIGluc3RlYWRgXG4gICAgICAgICAgICA6ICcnO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCBUVUlfU1ZHX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW48VHVpU3ZnT3B0aW9ucz4oXG4gICAgbmdEZXZNb2RlID8gJ1RVSV9TVkdfT1BUSU9OUycgOiAnJyxcbiAgICB7XG4gICAgICAgIGZhY3Rvcnk6ICgpID0+ICh7XG4gICAgICAgICAgICBpY29uc1BsYWNlOiBUVUlfREVGQVVMVF9JQ09OU19QTEFDRSxcbiAgICAgICAgICAgIHBhdGg6IHR1aUljb25zUGF0aEZhY3RvcnkoVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UpLFxuICAgICAgICAgICAgZGVwcmVjYXRlZDogVFVJX1NWR19ERUZBVUxUX09QVElPTlMuZGVwcmVjYXRlZCxcbiAgICAgICAgICAgIHNyY1Byb2Nlc3NvcjogaWRlbnRpdHksXG4gICAgICAgICAgICBjb250ZW50UHJvY2Vzc29yOiB0dWlTdmdMaW5lYXJHcmFkaWVudFByb2Nlc3NvcixcbiAgICAgICAgfSksXG4gICAgfSxcbik7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9TVkdfU1JDX0lOVEVSQ0VQVE9SUyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxUdWlTdmdJbnRlcmNlcHRvckhhbmRsZXI+KFxuICAgIG5nRGV2TW9kZSA/ICdUVUlfU1ZHX1NSQ19JTlRFUkNFUFRPUlMnIDogJycsXG4pO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0dWlTdmdTcmNJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3I6IFR1aVN2Z0ludGVyY2VwdG9ySGFuZGxlcik6IFByb3ZpZGVyIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm92aWRlOiBUVUlfU1ZHX1NSQ19JTlRFUkNFUFRPUlMsXG4gICAgICAgIHVzZVZhbHVlOiBpbnRlcmNlcHRvcixcbiAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZDogZHJvcCBpbiB2NS4wIHVzZSB7QGxpbmsgVHVpSWNvbn1cbiAqIGh0dHBzOi8vdGFpZ2EtdWkuZGV2L2NvbXBvbmVudHMvaWNvblxuICovXG5leHBvcnQgY29uc3QgdHVpU3ZnT3B0aW9uc1Byb3ZpZGVyOiAoXG4gICAgb3B0aW9uczogUGFydGlhbDxPbWl0PFR1aVN2Z09wdGlvbnMsICdwYXRoJz4+ICYge1xuICAgICAgICBwYXRoPzogVHVpU3ZnT3B0aW9uc1sncGF0aCddIHwgc3RyaW5nO1xuICAgIH0sXG4pID0+IEZhY3RvcnlQcm92aWRlciA9IChvcHRpb25zKSA9PiAoe1xuICAgIHByb3ZpZGU6IFRVSV9TVkdfT1BUSU9OUyxcbiAgICBkZXBzOiBbW25ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKSwgVFVJX1NWR19PUFRJT05TXV0sXG4gICAgdXNlRmFjdG9yeTogKGZhbGxiYWNrOiBUdWlTdmdPcHRpb25zIHwgbnVsbCk6IFR1aVN2Z09wdGlvbnMgPT4gKHtcbiAgICAgICAgaWNvbnNQbGFjZTpcbiAgICAgICAgICAgIG9wdGlvbnMuaWNvbnNQbGFjZSA/P1xuICAgICAgICAgICAgZmFsbGJhY2s/Lmljb25zUGxhY2UgPz9cbiAgICAgICAgICAgIFRVSV9TVkdfREVGQVVMVF9PUFRJT05TLmljb25zUGxhY2UsXG4gICAgICAgIHBhdGg6IHR1aUlzU3RyaW5nKG9wdGlvbnMucGF0aClcbiAgICAgICAgICAgID8gdHVpSWNvbnNQYXRoRmFjdG9yeShvcHRpb25zLnBhdGgpXG4gICAgICAgICAgICA6IChvcHRpb25zLnBhdGggPz8gZmFsbGJhY2s/LnBhdGggPz8gVFVJX1NWR19ERUZBVUxUX09QVElPTlMucGF0aCksXG4gICAgICAgIGRlcHJlY2F0ZWQ6XG4gICAgICAgICAgICBvcHRpb25zLmRlcHJlY2F0ZWQgPz9cbiAgICAgICAgICAgIGZhbGxiYWNrPy5kZXByZWNhdGVkID8/XG4gICAgICAgICAgICBUVUlfU1ZHX0RFRkFVTFRfT1BUSU9OUy5kZXByZWNhdGVkLFxuICAgICAgICBzcmNQcm9jZXNzb3I6XG4gICAgICAgICAgICBvcHRpb25zLnNyY1Byb2Nlc3NvciA/P1xuICAgICAgICAgICAgZmFsbGJhY2s/LnNyY1Byb2Nlc3NvciA/P1xuICAgICAgICAgICAgVFVJX1NWR19ERUZBVUxUX09QVElPTlMuc3JjUHJvY2Vzc29yLFxuICAgICAgICBjb250ZW50UHJvY2Vzc29yOlxuICAgICAgICAgICAgb3B0aW9ucy5jb250ZW50UHJvY2Vzc29yID8/XG4gICAgICAgICAgICBmYWxsYmFjaz8uY29udGVudFByb2Nlc3NvciA/P1xuICAgICAgICAgICAgVFVJX1NWR19ERUZBVUxUX09QVElPTlMuY29udGVudFByb2Nlc3NvcixcbiAgICB9KSxcbn0pO1xuIl19