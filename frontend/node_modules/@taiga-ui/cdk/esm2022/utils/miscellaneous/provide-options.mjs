import { inject, } from '@angular/core';
// TODO: Drop ProviderToken in v.5
export function tuiProvideOptions(provide, options, fallback) {
    return {
        provide,
        useFactory: () => ({
            ...(inject(provide, { optional: true, skipSelf: true }) || fallback),
            ...(inject(options, { optional: true }) ||
                // @ts-ignore
                (typeof options === 'function' ? options() : options)),
        }),
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZS1vcHRpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2RrL3V0aWxzL21pc2NlbGxhbmVvdXMvcHJvdmlkZS1vcHRpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxNQUFNLEdBR1QsTUFBTSxlQUFlLENBQUM7QUFFdkIsa0NBQWtDO0FBQ2xDLE1BQU0sVUFBVSxpQkFBaUIsQ0FDN0IsT0FBMEIsRUFDMUIsT0FBb0UsRUFDcEUsUUFBVztJQUVYLE9BQU87UUFDSCxPQUFPO1FBQ1AsVUFBVSxFQUFFLEdBQU0sRUFBRSxDQUFDLENBQUM7WUFDbEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQztZQUNsRSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQWMsRUFBRSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQztnQkFDeEMsYUFBYTtnQkFDYixDQUFDLE9BQU8sT0FBTyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzdELENBQUM7S0FDTCxDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgdHlwZSBGYWN0b3J5UHJvdmlkZXIsXG4gICAgaW5qZWN0LFxuICAgIHR5cGUgSW5qZWN0aW9uVG9rZW4sXG4gICAgdHlwZSBQcm92aWRlclRva2VuLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLy8gVE9ETzogRHJvcCBQcm92aWRlclRva2VuIGluIHYuNVxuZXhwb3J0IGZ1bmN0aW9uIHR1aVByb3ZpZGVPcHRpb25zPFQ+KFxuICAgIHByb3ZpZGU6IEluamVjdGlvblRva2VuPFQ+LFxuICAgIG9wdGlvbnM6IFBhcnRpYWw8VD4gfCBQcm92aWRlclRva2VuPFBhcnRpYWw8VD4+IHwgKCgpID0+IFBhcnRpYWw8VD4pLFxuICAgIGZhbGxiYWNrOiBULFxuKTogRmFjdG9yeVByb3ZpZGVyIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm92aWRlLFxuICAgICAgICB1c2VGYWN0b3J5OiAoKTogVCA9PiAoe1xuICAgICAgICAgICAgLi4uKGluamVjdChwcm92aWRlLCB7b3B0aW9uYWw6IHRydWUsIHNraXBTZWxmOiB0cnVlfSkgfHwgZmFsbGJhY2spLFxuICAgICAgICAgICAgLi4uKGluamVjdChvcHRpb25zIGFzIGFueSwge29wdGlvbmFsOiB0cnVlfSkgfHxcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucygpIDogb3B0aW9ucykpLFxuICAgICAgICB9KSxcbiAgICB9O1xufVxuIl19