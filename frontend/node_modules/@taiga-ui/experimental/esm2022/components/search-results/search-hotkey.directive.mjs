import { Directive, inject } from '@angular/core';
import { toSignal } from '@angular/core/rxjs-interop';
import { WA_NAVIGATOR } from '@ng-web-apis/common';
import { TuiInputSearch } from '@taiga-ui/layout/components/input-search';
import { TUI_INPUT_SEARCH } from '@taiga-ui/layout/tokens';
import { map } from 'rxjs';
import * as i0 from "@angular/core";
class TuiSearchHotkey {
    constructor() {
        this.platform = inject(WA_NAVIGATOR).platform;
        this.search = inject(TuiInputSearch);
        this.placeholder = toSignal(inject(TUI_INPUT_SEARCH).pipe(map(({ hotkey }) => this.platform.startsWith('Mac') ? `⌘+K ${hotkey}` : `Alt+K ${hotkey}`)));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiSearchHotkey, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "16.2.12", type: TuiSearchHotkey, isStandalone: true, selector: "input[tuiSearchHotkey]", host: { listeners: { "document:keydown.meta.k.stop": "search.open()", "document:keydown.alt.k.stop": "search.open()" }, properties: { "placeholder": "placeholder()" } }, ngImport: i0 }); }
}
export { TuiSearchHotkey };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiSearchHotkey, decorators: [{
            type: Directive,
            args: [{
                    standalone: true,
                    selector: 'input[tuiSearchHotkey]',
                    host: {
                        '[placeholder]': 'placeholder()',
                        '(document:keydown.meta.k.stop)': 'search.open()',
                        '(document:keydown.alt.k.stop)': 'search.open()',
                    },
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLWhvdGtleS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9leHBlcmltZW50YWwvY29tcG9uZW50cy9zZWFyY2gtcmVzdWx0cy9zZWFyY2gtaG90a2V5LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNoRCxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0sNEJBQTRCLENBQUM7QUFDcEQsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBQ2pELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSwwQ0FBMEMsQ0FBQztBQUN4RSxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSx5QkFBeUIsQ0FBQztBQUN6RCxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sTUFBTSxDQUFDOztBQUV6QixNQVNhLGVBQWU7SUFUNUI7UUFVcUIsYUFBUSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFFdkMsV0FBTSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNoQyxnQkFBVyxHQUFHLFFBQVEsQ0FDckMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUN6QixHQUFHLENBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUUsQ0FDYixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxNQUFNLEVBQUUsQ0FDeEUsQ0FDSixDQUNKLENBQUM7S0FDTDsrR0FYWSxlQUFlO21HQUFmLGVBQWU7O1NBQWYsZUFBZTs0RkFBZixlQUFlO2tCQVQzQixTQUFTO21CQUFDO29CQUNQLFVBQVUsRUFBRSxJQUFJO29CQUNoQixRQUFRLEVBQUUsd0JBQXdCO29CQUNsQyxJQUFJLEVBQUU7d0JBQ0YsZUFBZSxFQUFFLGVBQWU7d0JBQ2hDLGdDQUFnQyxFQUFFLGVBQWU7d0JBQ2pELCtCQUErQixFQUFFLGVBQWU7cUJBQ25EO2lCQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEaXJlY3RpdmUsIGluamVjdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge3RvU2lnbmFsfSBmcm9tICdAYW5ndWxhci9jb3JlL3J4anMtaW50ZXJvcCc7XG5pbXBvcnQge1dBX05BVklHQVRPUn0gZnJvbSAnQG5nLXdlYi1hcGlzL2NvbW1vbic7XG5pbXBvcnQge1R1aUlucHV0U2VhcmNofSBmcm9tICdAdGFpZ2EtdWkvbGF5b3V0L2NvbXBvbmVudHMvaW5wdXQtc2VhcmNoJztcbmltcG9ydCB7VFVJX0lOUFVUX1NFQVJDSH0gZnJvbSAnQHRhaWdhLXVpL2xheW91dC90b2tlbnMnO1xuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzdGFuZGFsb25lOiB0cnVlLFxuICAgIHNlbGVjdG9yOiAnaW5wdXRbdHVpU2VhcmNoSG90a2V5XScsXG4gICAgaG9zdDoge1xuICAgICAgICAnW3BsYWNlaG9sZGVyXSc6ICdwbGFjZWhvbGRlcigpJyxcbiAgICAgICAgJyhkb2N1bWVudDprZXlkb3duLm1ldGEuay5zdG9wKSc6ICdzZWFyY2gub3BlbigpJyxcbiAgICAgICAgJyhkb2N1bWVudDprZXlkb3duLmFsdC5rLnN0b3ApJzogJ3NlYXJjaC5vcGVuKCknLFxuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIFR1aVNlYXJjaEhvdGtleSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBwbGF0Zm9ybSA9IGluamVjdChXQV9OQVZJR0FUT1IpLnBsYXRmb3JtO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNlYXJjaCA9IGluamVjdChUdWlJbnB1dFNlYXJjaCk7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHBsYWNlaG9sZGVyID0gdG9TaWduYWwoXG4gICAgICAgIGluamVjdChUVUlfSU5QVVRfU0VBUkNIKS5waXBlKFxuICAgICAgICAgICAgbWFwKCh7aG90a2V5fSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXRmb3JtLnN0YXJ0c1dpdGgoJ01hYycpID8gYOKMmCtLICR7aG90a2V5fWAgOiBgQWx0K0sgJHtob3RrZXl9YCxcbiAgICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgKTtcbn1cbiJdfQ==