import { tuiIsRoutePageGroup } from './is-page-group';
export function tuiSortPages(pages, excludeSections = new Set()) {
    const sections = Array.from(new Set(pages.map((page) => page.section)));
    const sortedPages = pages.slice().sort((a, b) => {
        if (excludeSections.has(a.section ?? '') ||
            excludeSections.has(b.section ?? '')) {
            return 0;
        }
        const aSectionIndex = sections.indexOf(a.section);
        const bSectionIndex = sections.indexOf(b.section);
        if (aSectionIndex !== bSectionIndex) {
            return aSectionIndex - bSectionIndex;
        }
        if (a.title > b.title) {
            return 1;
        }
        return a.title.localeCompare(b.title);
    });
    return sortedPages.map((page) => tuiIsRoutePageGroup(page)
        ? {
            ...page,
            subPages: tuiSortPages(page.subPages, excludeSections),
        }
        : page);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ydC1wYWdlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FkZG9uLWRvYy91dGlscy9zb3J0LXBhZ2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBRXBELE1BQU0sVUFBVSxZQUFZLENBQ3hCLEtBQW1CLEVBQ25CLGtCQUFrQixJQUFJLEdBQUcsRUFBVTtJQUVuQyxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFeEUsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM1QyxJQUNJLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7WUFDcEMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxFQUN0QztZQUNFLE9BQU8sQ0FBQyxDQUFDO1NBQ1o7UUFFRCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsRCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVsRCxJQUFJLGFBQWEsS0FBSyxhQUFhLEVBQUU7WUFDakMsT0FBTyxhQUFhLEdBQUcsYUFBYSxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDbkIsT0FBTyxDQUFDLENBQUM7U0FDWjtRQUVELE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FDNUIsbUJBQW1CLENBQUMsSUFBSSxDQUFDO1FBQ3JCLENBQUMsQ0FBQztZQUNJLEdBQUcsSUFBSTtZQUNQLFFBQVEsRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUM7U0FDekQ7UUFDSCxDQUFDLENBQUMsSUFBSSxDQUNiLENBQUM7QUFDTixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt0eXBlIFR1aURvY1JvdXRlUGFnZSwgdHlwZSBUdWlEb2NSb3V0ZVBhZ2VHcm91cH0gZnJvbSAnQHRhaWdhLXVpL2FkZG9uLWRvYy90eXBlcyc7XG5cbmltcG9ydCB7dHVpSXNSb3V0ZVBhZ2VHcm91cH0gZnJvbSAnLi9pcy1wYWdlLWdyb3VwJztcblxuZXhwb3J0IGZ1bmN0aW9uIHR1aVNvcnRQYWdlczxUIGV4dGVuZHMgVHVpRG9jUm91dGVQYWdlIHwgVHVpRG9jUm91dGVQYWdlR3JvdXA+KFxuICAgIHBhZ2VzOiByZWFkb25seSBUW10sXG4gICAgZXhjbHVkZVNlY3Rpb25zID0gbmV3IFNldDxzdHJpbmc+KCksXG4pOiByZWFkb25seSBUW10ge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShuZXcgU2V0KHBhZ2VzLm1hcCgocGFnZSkgPT4gcGFnZS5zZWN0aW9uKSkpO1xuXG4gICAgY29uc3Qgc29ydGVkUGFnZXMgPSBwYWdlcy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZXhjbHVkZVNlY3Rpb25zLmhhcyhhLnNlY3Rpb24gPz8gJycpIHx8XG4gICAgICAgICAgICBleGNsdWRlU2VjdGlvbnMuaGFzKGIuc2VjdGlvbiA/PyAnJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFTZWN0aW9uSW5kZXggPSBzZWN0aW9ucy5pbmRleE9mKGEuc2VjdGlvbik7XG4gICAgICAgIGNvbnN0IGJTZWN0aW9uSW5kZXggPSBzZWN0aW9ucy5pbmRleE9mKGIuc2VjdGlvbik7XG5cbiAgICAgICAgaWYgKGFTZWN0aW9uSW5kZXggIT09IGJTZWN0aW9uSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBhU2VjdGlvbkluZGV4IC0gYlNlY3Rpb25JbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhLnRpdGxlID4gYi50aXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYS50aXRsZS5sb2NhbGVDb21wYXJlKGIudGl0bGUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNvcnRlZFBhZ2VzLm1hcCgocGFnZSkgPT5cbiAgICAgICAgdHVpSXNSb3V0ZVBhZ2VHcm91cChwYWdlKVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAuLi5wYWdlLFxuICAgICAgICAgICAgICAgICAgc3ViUGFnZXM6IHR1aVNvcnRQYWdlcyhwYWdlLnN1YlBhZ2VzLCBleGNsdWRlU2VjdGlvbnMpLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHBhZ2UsXG4gICAgKTtcbn1cbiJdfQ==