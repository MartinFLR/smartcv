import { inject, Pipe } from '@angular/core';
import { TUI_DOC_TYPE_REFERENCE_HANDLER, TUI_DOC_TYPE_REFERENCE_PARSER, } from '@taiga-ui/addon-doc/tokens';
import * as i0 from "@angular/core";
class TuiDocTypeReferencePipe {
    constructor() {
        this.parser = inject(TUI_DOC_TYPE_REFERENCE_PARSER);
        this.linkHandler = inject(TUI_DOC_TYPE_REFERENCE_HANDLER);
    }
    transform(original) {
        return this.parser(original)
            .map(({ type, extracted }) => ({
            type,
            extracted,
            reference: this.linkHandler?.(extracted) ?? null,
        }))
            .sort((a, b) => b.reference?.localeCompare(a.reference ?? '') ?? -1);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiDocTypeReferencePipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }
    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "16.2.12", ngImport: i0, type: TuiDocTypeReferencePipe, isStandalone: true, name: "tuiDocTypeReference" }); }
}
export { TuiDocTypeReferencePipe };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiDocTypeReferencePipe, decorators: [{
            type: Pipe,
            args: [{
                    standalone: true,
                    name: 'tuiDocTypeReference',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS1yZWZlcmVuY2UucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FkZG9uLWRvYy9jb21wb25lbnRzL2RvY3VtZW50YXRpb24vcGlwZXMvdHlwZS1yZWZlcmVuY2UucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBcUIsTUFBTSxlQUFlLENBQUM7QUFDL0QsT0FBTyxFQUNILDhCQUE4QixFQUM5Qiw2QkFBNkIsR0FDaEMsTUFBTSw0QkFBNEIsQ0FBQzs7QUFFcEMsTUFJYSx1QkFBdUI7SUFKcEM7UUFLcUIsV0FBTSxHQUFHLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO1FBQy9DLGdCQUFXLEdBQUcsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUM7S0FlekU7SUFiVSxTQUFTLENBQUMsUUFBZ0I7UUFLN0IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQzthQUN2QixHQUFHLENBQUMsQ0FBQyxFQUFDLElBQUksRUFBRSxTQUFTLEVBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFJO1lBQ0osU0FBUztZQUNULFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSTtTQUNuRCxDQUFDLENBQUM7YUFDRixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQzsrR0FoQlEsdUJBQXVCOzZHQUF2Qix1QkFBdUI7O1NBQXZCLHVCQUF1Qjs0RkFBdkIsdUJBQXVCO2tCQUpuQyxJQUFJO21CQUFDO29CQUNGLFVBQVUsRUFBRSxJQUFJO29CQUNoQixJQUFJLEVBQUUscUJBQXFCO2lCQUM5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5qZWN0LCBQaXBlLCB0eXBlIFBpcGVUcmFuc2Zvcm19IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgICBUVUlfRE9DX1RZUEVfUkVGRVJFTkNFX0hBTkRMRVIsXG4gICAgVFVJX0RPQ19UWVBFX1JFRkVSRU5DRV9QQVJTRVIsXG59IGZyb20gJ0B0YWlnYS11aS9hZGRvbi1kb2MvdG9rZW5zJztcblxuQFBpcGUoe1xuICAgIHN0YW5kYWxvbmU6IHRydWUsXG4gICAgbmFtZTogJ3R1aURvY1R5cGVSZWZlcmVuY2UnLFxufSlcbmV4cG9ydCBjbGFzcyBUdWlEb2NUeXBlUmVmZXJlbmNlUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFyc2VyID0gaW5qZWN0KFRVSV9ET0NfVFlQRV9SRUZFUkVOQ0VfUEFSU0VSKTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpbmtIYW5kbGVyID0gaW5qZWN0KFRVSV9ET0NfVFlQRV9SRUZFUkVOQ0VfSEFORExFUik7XG5cbiAgICBwdWJsaWMgdHJhbnNmb3JtKG9yaWdpbmFsOiBzdHJpbmcpOiBSZWFkb25seUFycmF5PHtcbiAgICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgICBleHRyYWN0ZWQ6IHN0cmluZztcbiAgICAgICAgcmVmZXJlbmNlOiBzdHJpbmcgfCBudWxsO1xuICAgIH0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyKG9yaWdpbmFsKVxuICAgICAgICAgICAgLm1hcCgoe3R5cGUsIGV4dHJhY3RlZH0pID0+ICh7XG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBleHRyYWN0ZWQsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiB0aGlzLmxpbmtIYW5kbGVyPy4oZXh0cmFjdGVkKSA/PyBudWxsLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5yZWZlcmVuY2U/LmxvY2FsZUNvbXBhcmUoYS5yZWZlcmVuY2UgPz8gJycpID8/IC0xKTtcbiAgICB9XG59XG4iXX0=