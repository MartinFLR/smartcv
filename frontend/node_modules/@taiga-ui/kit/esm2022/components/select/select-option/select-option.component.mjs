import { ChangeDetectionStrategy, Component, computed, inject } from '@angular/core';
import { tuiDirectiveBinding, tuiIsPresent } from '@taiga-ui/cdk/utils/miscellaneous';
import { TuiDataListComponent, TuiOptionWithValue, } from '@taiga-ui/core/components/data-list';
import { TuiScrollIntoView } from '@taiga-ui/core/components/scrollbar';
import { TUI_ITEMS_HANDLERS, } from '@taiga-ui/core/directives/items-handlers';
import { TuiCheckbox, tuiCheckboxOptionsProvider } from '@taiga-ui/kit/components/checkbox';
import { tuiInjectValue } from '@taiga-ui/kit/utils';
import * as i0 from "@angular/core";
import * as i1 from "@taiga-ui/core/components/scrollbar";
class TuiSelectOption {
    constructor() {
        this.handlers = inject(TUI_ITEMS_HANDLERS);
        this.value = tuiInjectValue();
        this.datalist = inject(TuiDataListComponent);
        this.option = inject(TuiOptionWithValue, {
            optional: true,
        });
        this.selected = computed((controlValue = this.value(), optionValue = this.option?.value()) => tuiIsPresent(optionValue) &&
            tuiIsPresent(controlValue) &&
            this.handlers.identityMatcher()(controlValue, optionValue));
        this.scrolled = tuiDirectiveBinding(TuiScrollIntoView, 'tuiScrollIntoView', this.selected);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiSelectOption, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: TuiSelectOption, isStandalone: true, selector: "ng-component", host: { attributes: { "tuiSelectOption": "" }, properties: { "class._value": "option", "class._selected": "selected()" } }, providers: [tuiCheckboxOptionsProvider({ appearance: () => 'action' })], hostDirectives: [{ directive: i1.TuiScrollIntoView }], ngImport: i0, template: `
        <input
            tuiCheckbox
            type="checkbox"
            class="t-check"
            [checked]="selected()"
            [size]="datalist.size === 'l' ? 'm' : 's'"
        />
    `, isInline: true, styles: [":host._value>.t-check{order:100;margin-inline-start:auto;pointer-events:none}:host._value._selected~::ng-deep [tuiSelectOption]>.t-check:before{opacity:0}:host:not(._value)>.t-check,:host-context(tui-dropdown-mobile:not(._sheet))>.t-check{display:none}.t-check:before{inline-size:100%;block-size:100%}\n"], dependencies: [{ kind: "component", type: TuiCheckbox, selector: "input[type=\"checkbox\"][tuiCheckbox]", inputs: ["size"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
export { TuiSelectOption };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: TuiSelectOption, decorators: [{
            type: Component,
            args: [{ standalone: true, imports: [TuiCheckbox], template: `
        <input
            tuiCheckbox
            type="checkbox"
            class="t-check"
            [checked]="selected()"
            [size]="datalist.size === 'l' ? 'm' : 's'"
        />
    `, changeDetection: ChangeDetectionStrategy.OnPush, providers: [tuiCheckboxOptionsProvider({ appearance: () => 'action' })], hostDirectives: [TuiScrollIntoView], host: {
                        tuiSelectOption: '',
                        '[class._value]': 'option',
                        '[class._selected]': 'selected()',
                    }, styles: [":host._value>.t-check{order:100;margin-inline-start:auto;pointer-events:none}:host._value._selected~::ng-deep [tuiSelectOption]>.t-check:before{opacity:0}:host:not(._value)>.t-check,:host-context(tui-dropdown-mobile:not(._sheet))>.t-check{display:none}.t-check:before{inline-size:100%;block-size:100%}\n"] }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0LW9wdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9raXQvY29tcG9uZW50cy9zZWxlY3Qvc2VsZWN0LW9wdGlvbi9zZWxlY3Qtb3B0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDbkYsT0FBTyxFQUFDLG1CQUFtQixFQUFFLFlBQVksRUFBQyxNQUFNLG1DQUFtQyxDQUFDO0FBQ3BGLE9BQU8sRUFDSCxvQkFBb0IsRUFDcEIsa0JBQWtCLEdBQ3JCLE1BQU0scUNBQXFDLENBQUM7QUFDN0MsT0FBTyxFQUFDLGlCQUFpQixFQUFDLE1BQU0scUNBQXFDLENBQUM7QUFDdEUsT0FBTyxFQUNILGtCQUFrQixHQUVyQixNQUFNLDBDQUEwQyxDQUFDO0FBQ2xELE9BQU8sRUFBQyxXQUFXLEVBQUUsMEJBQTBCLEVBQUMsTUFBTSxtQ0FBbUMsQ0FBQztBQUMxRixPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0scUJBQXFCLENBQUM7OztBQUVuRCxNQXNCYSxlQUFlO0lBdEI1QjtRQXVCcUIsYUFBUSxHQUF3QixNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMzRCxVQUFLLEdBQUcsY0FBYyxFQUFLLENBQUM7UUFFMUIsYUFBUSxHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3hDLFdBQU0sR0FBRyxNQUFNLENBQXdCLGtCQUFrQixFQUFFO1lBQzFFLFFBQVEsRUFBRSxJQUFJO1NBQ2pCLENBQUMsQ0FBQztRQUVnQixhQUFRLEdBQUcsUUFBUSxDQUNsQyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUNoRSxZQUFZLENBQUMsV0FBVyxDQUFDO1lBQ3pCLFlBQVksQ0FBQyxZQUFZLENBQUM7WUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLENBQ2pFLENBQUM7UUFFaUIsYUFBUSxHQUFHLG1CQUFtQixDQUM3QyxpQkFBaUIsRUFDakIsbUJBQW1CLEVBQ25CLElBQUksQ0FBQyxRQUFRLENBQ2hCLENBQUM7S0FDTDsrR0FyQlksZUFBZTttR0FBZixlQUFlLHVMQVJiLENBQUMsMEJBQTBCLENBQUMsRUFBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxpRkFYM0Q7Ozs7Ozs7O0tBUVQseVhBVFMsV0FBVzs7U0FvQlosZUFBZTs0RkFBZixlQUFlO2tCQXRCM0IsU0FBUztpQ0FDTSxJQUFJLFdBQ1AsQ0FBQyxXQUFXLENBQUMsWUFDWjs7Ozs7Ozs7S0FRVCxtQkFFZ0IsdUJBQXVCLENBQUMsTUFBTSxhQUNwQyxDQUFDLDBCQUEwQixDQUFDLEVBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUMsa0JBQ3JELENBQUMsaUJBQWlCLENBQUMsUUFDN0I7d0JBQ0YsZUFBZSxFQUFFLEVBQUU7d0JBQ25CLGdCQUFnQixFQUFFLFFBQVE7d0JBQzFCLG1CQUFtQixFQUFFLFlBQVk7cUJBQ3BDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBjb21wdXRlZCwgaW5qZWN0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7dHVpRGlyZWN0aXZlQmluZGluZywgdHVpSXNQcmVzZW50fSBmcm9tICdAdGFpZ2EtdWkvY2RrL3V0aWxzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHtcbiAgICBUdWlEYXRhTGlzdENvbXBvbmVudCxcbiAgICBUdWlPcHRpb25XaXRoVmFsdWUsXG59IGZyb20gJ0B0YWlnYS11aS9jb3JlL2NvbXBvbmVudHMvZGF0YS1saXN0JztcbmltcG9ydCB7VHVpU2Nyb2xsSW50b1ZpZXd9IGZyb20gJ0B0YWlnYS11aS9jb3JlL2NvbXBvbmVudHMvc2Nyb2xsYmFyJztcbmltcG9ydCB7XG4gICAgVFVJX0lURU1TX0hBTkRMRVJTLFxuICAgIHR5cGUgVHVpSXRlbXNIYW5kbGVycyxcbn0gZnJvbSAnQHRhaWdhLXVpL2NvcmUvZGlyZWN0aXZlcy9pdGVtcy1oYW5kbGVycyc7XG5pbXBvcnQge1R1aUNoZWNrYm94LCB0dWlDaGVja2JveE9wdGlvbnNQcm92aWRlcn0gZnJvbSAnQHRhaWdhLXVpL2tpdC9jb21wb25lbnRzL2NoZWNrYm94JztcbmltcG9ydCB7dHVpSW5qZWN0VmFsdWV9IGZyb20gJ0B0YWlnYS11aS9raXQvdXRpbHMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzdGFuZGFsb25lOiB0cnVlLFxuICAgIGltcG9ydHM6IFtUdWlDaGVja2JveF0sXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0dWlDaGVja2JveFxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgIGNsYXNzPVwidC1jaGVja1wiXG4gICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3RlZCgpXCJcbiAgICAgICAgICAgIFtzaXplXT1cImRhdGFsaXN0LnNpemUgPT09ICdsJyA/ICdtJyA6ICdzJ1wiXG4gICAgICAgIC8+XG4gICAgYCxcbiAgICBzdHlsZVVybHM6IFsnLi9zZWxlY3Qtb3B0aW9uLnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFt0dWlDaGVja2JveE9wdGlvbnNQcm92aWRlcih7YXBwZWFyYW5jZTogKCkgPT4gJ2FjdGlvbid9KV0sXG4gICAgaG9zdERpcmVjdGl2ZXM6IFtUdWlTY3JvbGxJbnRvVmlld10sXG4gICAgaG9zdDoge1xuICAgICAgICB0dWlTZWxlY3RPcHRpb246ICcnLFxuICAgICAgICAnW2NsYXNzLl92YWx1ZV0nOiAnb3B0aW9uJyxcbiAgICAgICAgJ1tjbGFzcy5fc2VsZWN0ZWRdJzogJ3NlbGVjdGVkKCknLFxuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIFR1aVNlbGVjdE9wdGlvbjxUPiB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVyczogVHVpSXRlbXNIYW5kbGVyczxUPiA9IGluamVjdChUVUlfSVRFTVNfSEFORExFUlMpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdmFsdWUgPSB0dWlJbmplY3RWYWx1ZTxUPigpO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGFsaXN0ID0gaW5qZWN0KFR1aURhdGFMaXN0Q29tcG9uZW50KTtcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgb3B0aW9uID0gaW5qZWN0PFR1aU9wdGlvbldpdGhWYWx1ZTxUPj4oVHVpT3B0aW9uV2l0aFZhbHVlLCB7XG4gICAgICAgIG9wdGlvbmFsOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNlbGVjdGVkID0gY29tcHV0ZWQoXG4gICAgICAgIChjb250cm9sVmFsdWUgPSB0aGlzLnZhbHVlKCksIG9wdGlvblZhbHVlID0gdGhpcy5vcHRpb24/LnZhbHVlKCkpID0+XG4gICAgICAgICAgICB0dWlJc1ByZXNlbnQob3B0aW9uVmFsdWUpICYmXG4gICAgICAgICAgICB0dWlJc1ByZXNlbnQoY29udHJvbFZhbHVlKSAmJlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5pZGVudGl0eU1hdGNoZXIoKShjb250cm9sVmFsdWUsIG9wdGlvblZhbHVlKSxcbiAgICApO1xuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHNjcm9sbGVkID0gdHVpRGlyZWN0aXZlQmluZGluZyhcbiAgICAgICAgVHVpU2Nyb2xsSW50b1ZpZXcsXG4gICAgICAgICd0dWlTY3JvbGxJbnRvVmlldycsXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQsXG4gICAgKTtcbn1cbiJdfQ==