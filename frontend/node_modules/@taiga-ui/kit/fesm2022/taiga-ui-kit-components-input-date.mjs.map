{"version":3,"file":"taiga-ui-kit-components-input-date.mjs","sources":["../../../projects/kit/components/input-date/date-filler.ts","../../../projects/kit/components/input-date/input-date.options.ts","../../../projects/kit/components/input-date/input-date.directive.ts","../../../projects/kit/components/input-date/input-date.component.ts","../../../projects/kit/components/input-date/input-date.template.html","../../../projects/kit/components/input-date/input-date.ts","../../../projects/kit/components/input-date/taiga-ui-kit-components-input-date.ts"],"sourcesContent":["import {computed, inject, type Signal} from '@angular/core';\nimport {toSignal} from '@angular/core/rxjs-interop';\nimport {\n    changeDateSeparator,\n    tuiDirectiveBinding,\n} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {TuiTextfieldComponent} from '@taiga-ui/core/components/textfield';\nimport {TUI_DATE_FORMAT, TUI_DEFAULT_DATE_FORMAT} from '@taiga-ui/core/tokens';\nimport {TUI_DATE_TEXTS} from '@taiga-ui/kit/tokens';\nimport {identity} from 'rxjs';\n\nexport function tuiWithDateFiller(\n    fn: (dateFiller: string) => string = identity,\n): Signal<string> {\n    const texts = toSignal(inject(TUI_DATE_TEXTS));\n    const format = toSignal(inject(TUI_DATE_FORMAT), {\n        initialValue: TUI_DEFAULT_DATE_FORMAT,\n    });\n\n    return tuiDirectiveBinding(\n        TuiTextfieldComponent,\n        'fillerSetter',\n        computed(() => {\n            const {mode, separator} = format();\n            const fillersMap = texts() ?? '';\n            const filler = fillersMap && changeDateSeparator(fillersMap[mode], separator);\n\n            return fn(filler);\n        }),\n        {},\n    );\n}\n","import {\n    TUI_IDENTITY_VALUE_TRANSFORMER,\n    type TuiValueTransformer,\n} from '@taiga-ui/cdk/classes';\nimport {TUI_FIRST_DAY, TUI_LAST_DAY, type TuiDay} from '@taiga-ui/cdk/date-time';\nimport {type TuiHandler} from '@taiga-ui/cdk/types';\nimport {tuiCreateOptions} from '@taiga-ui/cdk/utils/di';\nimport {type TuiSizeL, type TuiSizeS} from '@taiga-ui/core/types';\n\nexport interface TuiInputDateOptionsNew {\n    readonly icon: TuiHandler<TuiSizeL | TuiSizeS, string>;\n    readonly max: TuiDay;\n    readonly min: TuiDay;\n    readonly valueTransformer: TuiValueTransformer<TuiDay | null, any>;\n}\n\nexport const TUI_INPUT_DATE_DEFAULT_OPTIONS_NEW = {\n    icon: () => '@tui.calendar',\n    min: TUI_FIRST_DAY,\n    max: TUI_LAST_DAY,\n    valueTransformer: TUI_IDENTITY_VALUE_TRANSFORMER,\n} as const;\n\nexport const [TUI_INPUT_DATE_OPTIONS_NEW, tuiInputDateOptionsProviderNew] =\n    tuiCreateOptions<TuiInputDateOptionsNew>(TUI_INPUT_DATE_DEFAULT_OPTIONS_NEW);\n","import {\n    computed,\n    Directive,\n    effect,\n    inject,\n    Input,\n    signal,\n    untracked,\n} from '@angular/core';\nimport {toSignal} from '@angular/core/rxjs-interop';\nimport {MaskitoDirective} from '@maskito/angular';\nimport {type MaskitoDateMode, maskitoDateOptionsGenerator} from '@maskito/kit';\nimport {tuiAsControl, TuiControl, tuiValueTransformerFrom} from '@taiga-ui/cdk/classes';\nimport {TUI_ALLOW_SIGNAL_WRITES} from '@taiga-ui/cdk/constants';\nimport {\n    DATE_FILLER_LENGTH,\n    type TuiDateMode,\n    TuiDay,\n    type TuiDayRange,\n    type TuiTime,\n} from '@taiga-ui/cdk/date-time';\nimport {TUI_IS_MOBILE} from '@taiga-ui/cdk/tokens';\nimport {type TuiBooleanHandler} from '@taiga-ui/cdk/types';\nimport {tuiInjectElement} from '@taiga-ui/cdk/utils/dom';\nimport {TuiCalendar} from '@taiga-ui/core/components/calendar';\nimport {tuiAsOptionContent} from '@taiga-ui/core/components/data-list';\nimport {\n    tuiInjectAuxiliary,\n    TuiTextfieldDirective,\n    tuiTextfieldIconBinding,\n    TuiWithNativePicker,\n    TuiWithTextfield,\n} from '@taiga-ui/core/components/textfield';\nimport {\n    TuiDropdownAuto,\n    tuiDropdownEnabled,\n    tuiDropdownOpen,\n} from '@taiga-ui/core/directives/dropdown';\nimport {\n    TUI_ITEMS_HANDLERS,\n    type TuiItemsHandlers,\n    TuiItemsHandlersDirective,\n    TuiItemsHandlersValidator,\n} from '@taiga-ui/core/directives/items-handlers';\nimport {TUI_DATE_FORMAT, TUI_DEFAULT_DATE_FORMAT} from '@taiga-ui/core/tokens';\nimport {TuiCalendarRange} from '@taiga-ui/kit/components/calendar-range';\nimport {TuiSelectOption} from '@taiga-ui/kit/components/select';\nimport {tuiMaskito} from '@taiga-ui/kit/utils';\n\nimport {tuiWithDateFiller} from './date-filler';\nimport {\n    TUI_INPUT_DATE_OPTIONS_NEW,\n    type TuiInputDateOptionsNew,\n} from './input-date.options';\n\nexport const TUI_DATE_ADAPTER: Record<TuiDateMode, MaskitoDateMode> = {\n    DMY: 'dd/mm/yyyy',\n    MDY: 'mm/dd/yyyy',\n    YMD: 'yyyy/mm/dd',\n};\n\n@Directive({\n    standalone: true,\n    host: {\n        '[attr.inputmode]': 'mobile && open() ? \"none\" : \"numeric\"',\n        '[disabled]': 'disabled()',\n        '(input)': 'onValueChange($event.target.value)',\n        '(click.capture.stop)': 'onClick()',\n    },\n})\nexport abstract class TuiInputDateBase<\n    T extends TuiDay | TuiDayRange | readonly [TuiDay, TuiTime | null],\n> extends TuiControl<T | null> {\n    private readonly calendar = tuiInjectAuxiliary<TuiCalendar | TuiCalendarRange>(\n        (x) => x instanceof TuiCalendar || x instanceof TuiCalendarRange,\n    );\n\n    protected readonly el = tuiInjectElement<HTMLInputElement>();\n    protected readonly textfield = inject(TuiTextfieldDirective);\n    protected readonly filler = tuiWithDateFiller();\n    protected readonly mobile = inject(TUI_IS_MOBILE);\n    protected readonly open = tuiDropdownOpen();\n    protected readonly icon = tuiTextfieldIconBinding(TUI_INPUT_DATE_OPTIONS_NEW);\n    protected readonly handlers = inject<TuiItemsHandlers<T>>(TuiItemsHandlersDirective);\n\n    protected readonly dropdownEnabled = tuiDropdownEnabled(\n        computed(() => !this.native && this.interactive()),\n    );\n\n    protected readonly options: Omit<TuiInputDateOptionsNew, 'valueTransformer'> = inject(\n        TUI_INPUT_DATE_OPTIONS_NEW,\n    );\n\n    protected readonly format = toSignal(inject(TUI_DATE_FORMAT), {\n        initialValue: TUI_DEFAULT_DATE_FORMAT,\n    });\n\n    protected readonly valueEffect = effect(() => {\n        const value =\n            this.stringify(this.value()) ||\n            (this.filler().length === this.el.value.length ? '' : this.el.value);\n\n        this.textfield.value.set(value);\n    }, TUI_ALLOW_SIGNAL_WRITES);\n\n    protected readonly calendarIn = effect(() => {\n        if (this.calendar()) {\n            this.processCalendar(this.calendar()!);\n        }\n    }, TUI_ALLOW_SIGNAL_WRITES);\n\n    protected readonly calendarOut = effect((onCleanup) => {\n        const subscription = this.calendar()?.valueChange.subscribe((value) =>\n            this.setDate(value),\n        );\n\n        onCleanup(() => subscription?.unsubscribe());\n    });\n\n    public readonly native =\n        !!inject(TuiWithNativePicker, {optional: true}) && this.mobile;\n\n    public readonly min = signal(this.options.min);\n    public readonly max = signal(this.options.max);\n\n    protected abstract onValueChange(value: string): void;\n\n    @Input('min')\n    public set minSetter(min: Exclude<T, TuiDayRange> | TuiDay | null) {\n        this.min.set(min instanceof TuiDay ? min : this.options.min);\n    }\n\n    @Input('max')\n    public set maxSetter(max: Exclude<T, TuiDayRange> | TuiDay | null) {\n        this.max.set(max instanceof TuiDay ? max : this.options.max);\n    }\n\n    public override writeValue(value: T | null): void {\n        const reset = this.control.pristine && this.control.untouched && !value;\n        const changed = untracked(() => value !== this.value());\n\n        if (changed || reset) {\n            super.writeValue(value);\n            this.textfield.value.set(this.stringify(this.value()));\n        }\n    }\n\n    public setDate(value: TuiDay | TuiDayRange | readonly TuiDay[]): void {\n        this.onChange(value as T);\n        this.open.set(false);\n\n        if (!this.el.closest('tui-dropdown')) {\n            this.el.blur();\n        }\n    }\n\n    protected processCalendar(calendar: TuiCalendar | TuiCalendarRange): void {\n        const value = this.value();\n\n        calendar.value = Array.isArray(value) ? value[0] : value;\n        calendar.disabledItemHandler =\n            this.handlers.disabledItemHandler() as TuiBooleanHandler<\n                TuiDay | TuiDayRange\n            >;\n        calendar.min = this.min();\n        calendar.max = this.max();\n    }\n\n    protected onClick(): void {\n        if (!this.mobile && this.dropdownEnabled()) {\n            this.open.update((open) => !open);\n        }\n    }\n\n    protected stringify(value: T | null): string {\n        return value?.toString(this.format().mode, this.format().separator) ?? '';\n    }\n}\n\n@Directive({\n    standalone: true,\n    selector: 'input[tuiInputDate]',\n    providers: [\n        tuiAsOptionContent(TuiSelectOption),\n        tuiAsControl(TuiInputDateDirective),\n        tuiValueTransformerFrom(TUI_INPUT_DATE_OPTIONS_NEW),\n    ],\n    hostDirectives: [\n        TuiWithTextfield,\n        TuiDropdownAuto,\n        TuiItemsHandlersValidator,\n        MaskitoDirective,\n    ],\n})\nexport class TuiInputDateDirective extends TuiInputDateBase<TuiDay> {\n    protected readonly identity = inject<TuiItemsHandlers<TuiDay>>(\n        TUI_ITEMS_HANDLERS,\n    ).identityMatcher.set((a, b) => a.daySame(b));\n\n    protected readonly mask = tuiMaskito(\n        computed(() =>\n            maskitoDateOptionsGenerator({\n                separator: this.format().separator,\n                mode: TUI_DATE_ADAPTER[this.format().mode],\n                min: this.min().toLocalNativeDate(),\n                max: this.max().toLocalNativeDate(),\n            }),\n        ),\n    );\n\n    protected override onValueChange(value: string): void {\n        this.control?.control?.updateValueAndValidity({emitEvent: false});\n        this.onChange(\n            value.length === DATE_FILLER_LENGTH\n                ? TuiDay.normalizeParse(value, this.format().mode)\n                : null,\n        );\n    }\n}\n","import {NgIf} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    inject,\n    Input,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {TuiDay} from '@taiga-ui/cdk/date-time';\nimport {\n    TuiTextfieldContent,\n    TuiWithNativePicker,\n} from '@taiga-ui/core/components/textfield';\n\nimport {TuiInputDateDirective} from './input-date.directive';\n\n@Component({\n    standalone: true,\n    selector: 'input[tuiInputDate][type=\"date\"]',\n    imports: [NgIf, TuiTextfieldContent],\n    templateUrl: './input-date.template.html',\n    styleUrls: ['./input-date.style.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    hostDirectives: [TuiWithNativePicker],\n    host: {\n        ngSkipHydration: 'true',\n        '[attr.list]': 'null',\n    },\n})\nexport class TuiInputDateComponent {\n    protected readonly host = inject(TuiInputDateDirective);\n\n    @Input()\n    public list: string | null = null;\n\n    protected onInput(value: string): void {\n        if (!value) {\n            return this.host.onChange(null);\n        }\n\n        const [year = 0, month = 0, day = 0] = value.split('-').map(Number);\n\n        this.host.onChange(new TuiDay(year, month - 1, day));\n    }\n}\n","<ng-container *ngIf=\"host.native\">\n    <input\n        *tuiTextfieldContent\n        type=\"date\"\n        [attr.list]=\"list\"\n        [max]=\"host.max().toJSON()\"\n        [min]=\"host.min().toJSON()\"\n        [value]=\"host.value()?.toJSON()\"\n        (click.stop.zoneless)=\"(0)\"\n        (input)=\"onInput($any($event.target).value)\"\n        (pointerdown.stop.zoneless)=\"(0)\"\n    />\n</ng-container>\n","import {TuiCalendar} from '@taiga-ui/core/components/calendar';\n\nimport {TuiInputDateComponent} from './input-date.component';\nimport {TuiInputDateDirective} from './input-date.directive';\n\nexport const TuiInputDate = [\n    TuiInputDateDirective,\n    TuiInputDateComponent,\n    TuiCalendar,\n] as const;\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}