{"version":3,"file":"taiga-ui-kit-components-range.mjs","sources":["../../../projects/kit/components/range/range-change.directive.ts","../../../projects/kit/components/range/range.component.ts","../../../projects/kit/components/range/range.template.html","../../../projects/kit/components/range/taiga-ui-kit-components-range.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {Directive, EventEmitter, inject, Output} from '@angular/core';\nimport {takeUntilDestroyed} from '@angular/core/rxjs-interop';\nimport {tuiTypedFromEvent} from '@taiga-ui/cdk/observables';\nimport {tuiInjectElement} from '@taiga-ui/cdk/utils/dom';\nimport {tuiClamp, tuiRound} from '@taiga-ui/cdk/utils/math';\nimport {TUI_FLOATING_PRECISION} from '@taiga-ui/kit/components/slider';\nimport {map, repeat, startWith, switchMap, takeUntil, tap} from 'rxjs';\n\nimport {TuiRange} from './range.component';\n\n@Directive({\n    standalone: true,\n})\nexport class TuiRangeChange {\n    private readonly doc = inject(DOCUMENT);\n    private readonly el = tuiInjectElement();\n    private readonly range = inject(TuiRange);\n\n    // TODO(v5): use 'start' | 'end' instead\n    @Output()\n    public readonly activeThumbChange = new EventEmitter<'left' | 'right'>();\n\n    constructor() {\n        let activeThumb: 'end' | 'start';\n\n        tuiTypedFromEvent(this.el, 'pointerdown', {\n            passive: true,\n            capture: true,\n        })\n            .pipe(\n                tap(({clientX, target, pointerId}) => {\n                    activeThumb = this.detectActiveThumb(clientX, target);\n                    this.range.slidersRefs\n                        .get(activeThumb === 'start' ? 0 : 1)\n                        ?.nativeElement.setPointerCapture(pointerId);\n                    // TODO(v5): remove backward compatibility\n                    this.activeThumbChange.emit(\n                        activeThumb === 'start' ? 'left' : 'right',\n                    );\n\n                    if (this.range.focusable) {\n                        this.el.focus();\n                    }\n                }),\n                switchMap((event) =>\n                    tuiTypedFromEvent(this.doc, 'pointermove').pipe(startWith(event)),\n                ),\n                map(({clientX}) => this.getFractionFromEvents(clientX ?? 0)),\n                takeUntil(tuiTypedFromEvent(this.doc, 'pointerup', {passive: true})),\n                repeat(),\n                takeUntilDestroyed(),\n            )\n            .subscribe((fraction) => {\n                const value = this.range.toValue(fraction);\n\n                this.range.processValue(value, activeThumb === 'end');\n            });\n    }\n\n    private getFractionFromEvents(clickClientX: number): number {\n        const {left, right, width} = this.el.getBoundingClientRect();\n        const start = this.el.matches('[dir=\"rtl\"] :scope') ? right : left;\n        const value = Math.abs(tuiClamp(clickClientX, left, right) - start);\n\n        return tuiRound(value / width, TUI_FLOATING_PRECISION);\n    }\n\n    private detectActiveThumb(\n        clientX: number,\n        target: EventTarget | null,\n    ): 'end' | 'start' {\n        const [startSliderRef, endSliderRef] = this.range.slidersRefs;\n\n        switch (target) {\n            case endSliderRef?.nativeElement:\n                return 'end';\n            case startSliderRef?.nativeElement:\n                return 'start';\n            default:\n                return this.findNearestActiveThumb(clientX);\n        }\n    }\n\n    private findNearestActiveThumb(clientX: number): 'end' | 'start' {\n        const fraction = this.getFractionFromEvents(clientX);\n        const deltaStart = fraction * 100 - this.range.start();\n        const deltaEnd = fraction * 100 - 100 + this.range.end();\n\n        return Math.abs(deltaStart) > Math.abs(deltaEnd) ||\n            deltaEnd > 0 ||\n            (this.range.start() === 0 && this.range.end() === 100)\n            ? 'end'\n            : 'start';\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    computed,\n    ElementRef,\n    inject,\n    Input,\n    type OnChanges,\n    type QueryList,\n    signal,\n    ViewChildren,\n} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {TuiControl} from '@taiga-ui/cdk/classes';\nimport {EMPTY_QUERY} from '@taiga-ui/cdk/constants';\nimport {tuiFallbackValueProvider} from '@taiga-ui/cdk/tokens';\nimport {tuiInjectElement} from '@taiga-ui/cdk/utils/dom';\nimport {tuiClamp, tuiQuantize} from '@taiga-ui/cdk/utils/math';\nimport {tuiPure} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {type TuiSizeS} from '@taiga-ui/core/types';\nimport {\n    TUI_SLIDER_OPTIONS,\n    type TuiKeySteps,\n    tuiKeyStepValueToPercentage,\n    tuiPercentageToKeyStepValue,\n    TuiSlider,\n    TuiSliderComponent,\n} from '@taiga-ui/kit/components/slider';\n\nimport {TuiRangeChange} from './range-change.directive';\n\n@Component({\n    standalone: true,\n    selector: 'tui-range',\n    imports: [FormsModule, TuiSlider],\n    templateUrl: './range.template.html',\n    styleUrls: ['./range.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [tuiFallbackValueProvider([0, 0])],\n    hostDirectives: [\n        {\n            directive: TuiRangeChange,\n            outputs: ['activeThumbChange'],\n        },\n    ],\n    host: {\n        '[attr.data-size]': 'size',\n        '[attr.tabindex]': '-1',\n        '[attr.aria-disabled]': 'disabled()',\n        '[style.--t-start.%]': 'start()',\n        '[style.--t-end.%]': 'end()',\n        '[style.background]': 'options.trackColor',\n        '[class._disabled]': 'disabled()',\n        '(focusout)': 'onTouched()',\n        '(keydown.arrowUp.prevent)': 'changeByStep(1, $event.target)',\n        '(keydown.arrowDown.prevent)': 'changeByStep(-1, $event.target)',\n        '(keydown.arrowRight.prevent)': 'changeByStep(rtl ? -1 : 1, $event.target)',\n        '(keydown.arrowLeft.prevent)': 'changeByStep(rtl ? 1 : -1, $event.target)',\n    },\n})\nexport class TuiRange extends TuiControl<[number, number]> implements OnChanges {\n    // TODO: refactor to signal inputs after Angular update\n    private readonly changes = signal(1);\n    private readonly el = tuiInjectElement();\n\n    protected readonly options = inject(TUI_SLIDER_OPTIONS);\n    protected lastActiveThumb: 'end' | 'start' = 'end';\n\n    @Input()\n    public min = 0;\n\n    @Input()\n    public max = 100;\n\n    @Input()\n    public step = 1;\n\n    @Input()\n    public size: TuiSizeS = this.options.size;\n\n    @Input()\n    public segments = 1;\n\n    @Input()\n    public keySteps: TuiKeySteps | null = null;\n\n    @Input()\n    public focusable = true;\n\n    @Input()\n    public margin = 0;\n\n    @Input()\n    public limit = Infinity;\n\n    @ViewChildren(TuiSliderComponent, {read: ElementRef})\n    public readonly slidersRefs: QueryList<ElementRef<HTMLInputElement>> = EMPTY_QUERY;\n\n    public readonly start = computed(() => this.toPercent(this.value()[0]));\n    public readonly end = computed(() => 100 - this.toPercent(this.value()[1]));\n\n    /**\n     * TODO(v5): standardize logic between `TuiSlider` & `TuiInputSlider` & `Range` & `InputRange`\n     * For non-linear slider (with `[keySteps]` property) `step` means percentage\n     */\n    public legacyMode = true;\n\n    public ngOnChanges(): void {\n        this.changes.update((x) => x + 1);\n    }\n\n    public processValue(value: number, end: boolean): void {\n        if (end) {\n            this.updateEnd(value);\n        } else {\n            this.updateStart(value);\n        }\n\n        this.lastActiveThumb = end ? 'end' : 'start';\n    }\n\n    public takeStep(coefficients: readonly [number, number]): readonly [number, number] {\n        return this.value().map((value, i) => {\n            const fraction = this.toPercent(value) / 100;\n            const newFractionValue = fraction + coefficients[i]! * this.fractionStep;\n\n            return this.toValue(newFractionValue);\n        }) as [number, number];\n    }\n\n    public toValue(fraction: number): number {\n        return tuiPercentageToKeyStepValue(\n            tuiClamp(tuiQuantize(fraction, this.fractionStep), 0, 1) * 100,\n            this.computedKeySteps,\n        );\n    }\n\n    protected get fractionStep(): number {\n        return this.legacyMode || !this.keySteps\n            ? this.step / (this.max - this.min)\n            : this.step / 100;\n    }\n\n    protected get computedKeySteps(): TuiKeySteps {\n        return this.computePureKeySteps(this.keySteps, this.min, this.max);\n    }\n\n    protected get segmentWidthRatio(): number {\n        return 1 / this.segments;\n    }\n\n    protected get rtl(): boolean {\n        return this.el.matches('[dir=\"rtl\"] :scope');\n    }\n\n    protected changeByStep(coefficient: number, target: HTMLElement): void {\n        const [startThumb, endThumb] = this.slidersRefs.map((x) => x?.nativeElement);\n        const isEndThumb =\n            target === this.el ? this.lastActiveThumb === 'end' : target === endThumb;\n        const activeThumbElement = isEndThumb ? endThumb : startThumb;\n        const newValue = this.takeStep(isEndThumb ? [0, coefficient] : [coefficient, 0]);\n\n        this.processValue(newValue[isEndThumb ? 1 : 0], isEndThumb);\n        activeThumbElement?.focus();\n    }\n\n    protected toPercent(value: number): number {\n        return (\n            this.changes() && tuiKeyStepValueToPercentage(value, this.computedKeySteps)\n        );\n    }\n\n    @tuiPure\n    private computePureKeySteps(\n        keySteps: TuiKeySteps | null,\n        min: number,\n        max: number,\n    ): TuiKeySteps {\n        return (\n            keySteps || [\n                [0, min],\n                [100, max],\n            ]\n        );\n    }\n\n    private updateStart(value: number): void {\n        const newValue = Math.min(value, this.value()[1]);\n        const distance = this.value()[1] - newValue;\n\n        if (!this.checkDistance(distance)) {\n            return;\n        }\n\n        this.onChange([newValue, this.value()[1]]);\n    }\n\n    private updateEnd(value: number): void {\n        const newValue = Math.max(value, this.value()[0]);\n        const distance = newValue - this.value()[0];\n\n        if (!this.checkDistance(distance)) {\n            return;\n        }\n\n        this.onChange([this.value()[0], newValue]);\n    }\n\n    private checkDistance(distance: number): boolean {\n        return tuiClamp(distance, this.margin, this.limit) === distance;\n    }\n}\n","<div\n    class=\"t-track\"\n    [style.--t-bg-size-ratio]=\"1 - segmentWidthRatio\"\n    [style.--t-segment-width.%]=\"segmentWidthRatio * 100\"\n>\n    <input\n        automation-id=\"tui-range__left\"\n        readonly\n        step=\"any\"\n        tuiSlider\n        type=\"range\"\n        class=\"t-thumb\"\n        [disabled]=\"disabled()\"\n        [keySteps]=\"computedKeySteps\"\n        [max]=\"max\"\n        [min]=\"min\"\n        [ngModel]=\"value()[0]\"\n        [ngModelOptions]=\"{standalone: true}\"\n        [size]=\"size\"\n        [tabIndex]=\"focusable ? 0 : -1\"\n    />\n    <input\n        automation-id=\"tui-range__right\"\n        readonly\n        step=\"any\"\n        tuiSlider\n        type=\"range\"\n        class=\"t-thumb\"\n        [disabled]=\"disabled()\"\n        [keySteps]=\"computedKeySteps\"\n        [max]=\"max\"\n        [min]=\"min\"\n        [ngModel]=\"value()[1]\"\n        [ngModelOptions]=\"{standalone: true}\"\n        [size]=\"size\"\n        [tabIndex]=\"focusable ? 0 : -1\"\n    />\n</div>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1.TuiRangeChange"],"mappings":"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"}